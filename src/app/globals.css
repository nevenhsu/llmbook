@import "../styles/_variables.scss";
@import "../styles/_keyframe-animations.scss";

@import "tailwindcss";
@plugin "daisyui" {
  themes:
    black --default,
    light;
}

@plugin "daisyui/theme" {
  name: "light";
  /* Primary: #04eaed - vibrant balanced teal */
  --color-primary: oklch(0.82 0.15 200.9);
  --color-primary-content: oklch(0.15 0.04 200.9);
  /* Secondary: #e7e40c - vibrant balanced yellow */
  --color-secondary: oklch(0.85 0.16 96.7);
  --color-secondary-content: oklch(0.15 0.02 96.7);
  /* Accent: #f51252 - vibrant balanced pink-red */
  --color-accent: oklch(0.68 0.23 25.9);
  --color-accent-content: oklch(0.98 0.02 25.9);
  /* Neutral: #3b4244 - dark balanced gray */
  --color-neutral: oklch(0.32 0.01 240);
  --color-neutral-content: oklch(0.98 0.01 240);
  /* Info: Bright Blue */
  --color-info: oklch(0.72 0.18 250);
  --color-info-content: oklch(0.98 0.02 250);
  /* Success: Bright Green */
  --color-success: oklch(0.75 0.16 145);
  --color-success-content: oklch(0.98 0.02 145);
  /* Warning: Bright Yellow */
  --color-warning: oklch(0.85 0.18 90);
  --color-warning-content: oklch(0.2 0.04 90);
  /* Error: Bright Red */
  --color-error: oklch(0.68 0.18 25);
  --color-error-content: oklch(0.98 0.02 25);
  /* General Colors (Synced with Info/Success/Warning/Error) */
  --color-blue: oklch(0.72 0.18 250);
  --color-green: oklch(0.75 0.16 145);
  --color-red: oklch(0.68 0.18 25);
  --color-yellow: oklch(0.85 0.18 90);
  --color-purple: oklch(0.65 0.18 300);
  --color-orange: oklch(0.75 0.18 50);
}

@plugin "daisyui/theme" {
  name: "black";
  prefersdark: true;
  /* Primary: #04eaed */
  --color-primary: oklch(0.82 0.15 200.9);
  --color-primary-content: oklch(0.15 0.04 200.9);
  /* Secondary: #e7e40c */
  --color-secondary: oklch(0.922 0.149 96.7);
  --color-secondary-content: oklch(0.15 0.02 96.7);
  /* Accent: #f51252 */
  --color-accent: oklch(0.579 0.239 25.9);
  --color-accent-content: oklch(0.15 0.03 25.9);
  /* Neutral: #3b4244 */
  --color-neutral: oklch(0.32 0.01 240);
  --color-neutral-content: oklch(0.98 0.01 240);
  /* Info: Balanced Blue */
  --color-info: oklch(0.68 0.18 250);
  --color-info-content: oklch(0.98 0.01 250);
  /* Success: Balanced Green */
  --color-success: oklch(0.72 0.16 145);
  --color-success-content: oklch(0.15 0.02 145);
  /* Warning: Balanced Yellow */
  --color-warning: oklch(0.78 0.16 85);
  --color-warning-content: oklch(0.15 0.02 85);
  /* Error: Balanced Red */
  --color-error: oklch(0.64 0.19 25);
  --color-error-content: oklch(0.98 0.01 25);
  /* General Colors (Balanced for black theme) */
  --color-blue: oklch(0.68 0.18 250);
  --color-green: oklch(0.72 0.16 145);
  --color-red: oklch(0.64 0.19 25);
  --color-yellow: oklch(0.78 0.16 85);
  --color-purple: oklch(0.68 0.17 300);
  --color-orange: oklch(0.72 0.17 50);
}

@theme {
  /* Fonts */
  --font-display: "Space Grotesk", system-ui, sans-serif;
  --font-body: "Source Sans 3", system-ui, sans-serif;
}

@layer base {
  body {
    font-family: var(--font-body);
  }

  h1,
  h2,
  h3 {
    font-family: var(--font-display);
  }

  button {
    cursor: pointer;
  }

  a {
    text-decoration: none;
  }

  a:hover {
    text-decoration: underline;
  }

  /* Scrollbar styling */
  ::-webkit-scrollbar {
    width: 8px;
  }
  ::-webkit-scrollbar-track {
    @apply bg-base-300;
  }
  ::-webkit-scrollbar-thumb {
    @apply bg-neutral rounded;
  }
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-neutral/80;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* DaisyUI component overrides */
  .select:focus,
  .select:focus-within {
    outline: none !important;
    box-shadow: none !important;
    border-color: transparent !important;
  }

  /* Input focus styles */
  .input:focus,
  .input:focus-within,
  .textarea:focus,
  .select:focus {
    outline: none !important;
    box-shadow: none !important;
  }

  /* Light theme: darker border on focus */
  [data-theme="light"] {
    .input:focus,
    .textarea:focus {
      border-color: oklch(0.4 0.02 240) !important;
    }
  }

  /* Black theme: lighter border on focus */
  [data-theme="black"] {
    .input:focus,
    .textarea:focus {
      border-color: oklch(0.6 0.02 240) !important;
    }
  }
}

@layer components {
  dialog.modal,
  dialog.modal[open],
  dialog.modal.modal-open {
    backdrop-filter: blur(6px);
  }

  .modal-backdrop {
    background-color: transparent !important;
  }

  /* Basic TipTap HTML rendering styles (posts + comments) */
  .tiptap-html p {
    @apply my-1;
  }

  .tiptap-html a {
    @apply text-accent underline underline-offset-2;
  }

  .tiptap-html ul {
    @apply my-2 list-disc pl-5;
  }

  .tiptap-html ol {
    @apply my-2 list-decimal pl-5;
  }

  .tiptap-html li {
    @apply my-0.5;
  }

  .tiptap-html blockquote {
    @apply border-neutral text-base-content/80 my-2 border-l-4 pl-3;
  }

  .tiptap-html pre {
    @apply bg-base-200 border-neutral my-2 overflow-x-auto rounded-md border p-3 text-xs;
  }

  .tiptap-html code {
    @apply bg-base-200 rounded px-1 py-0.5;
  }

  .tiptap-html img {
    @apply border-neutral my-2 h-auto max-w-full rounded-md border;
  }

  /* TipTap Editor styles */
  .ProseMirror ul {
    @apply my-2 list-disc pl-5;
  }

  .ProseMirror ol {
    @apply my-2 list-decimal pl-5;
  }

  .ProseMirror li {
    @apply my-0.5;
  }

  .ProseMirror blockquote {
    @apply border-neutral text-base-content/80 my-2 border-l-4 pl-3;
  }

  .ProseMirror p {
    @apply my-1;
  }

  .ProseMirror a {
    @apply text-accent underline underline-offset-2;
  }

  .ProseMirror pre {
    @apply bg-base-200 border-neutral my-2 overflow-x-auto rounded-md border p-3;
  }

  .ProseMirror code {
    @apply bg-base-200 rounded px-1 py-0.5 text-sm;
  }

  .ProseMirror img {
    @apply border-neutral my-2 h-auto max-w-full rounded-md border;
  }

  .ProseMirror h1 {
    @apply mt-4 mb-2 text-2xl font-bold;
  }

  .ProseMirror h2 {
    @apply mt-3 mb-2 text-xl font-bold;
  }

  .ProseMirror h3 {
    @apply mt-2 mb-1 text-lg font-bold;
  }

  /* Mention styling in editor */
  .ProseMirror .mention {
    @apply text-primary font-medium;
  }

  /* Mention styling in rendered content */
  a.mention {
    @apply text-primary cursor-pointer hover:underline;
  }

  /* Invalid/deleted mention */
  span.mention-invalid {
    @apply text-base-content/50;
  }
}
