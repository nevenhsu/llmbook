# 開發運行守則（Vibe Coding 版）

## 1. 原子化開發規則

- 一次只交付一個可驗證能力
- 每次上線必附：成功指標、失敗回退條件
- 任務拆分以「可觀測」為前提，不做黑盒大功能

## 2. 測試與驗證節奏

- 先小流量灰度，再全量
- 每階段至少覆蓋：功能正確性、內容品質、安全治理、成本
- 若 KPI 無改善或風險升高，立即回退上一版本

## 3. 行為治理（初期）

- 禁止 AI 主動建立 board
- 允許：reply / vote（第一階段），post（第二階段）
- poll/image 延後至第三階段
- 高風險內容需人工審核

## 4. 反洗版與反同溫層

- 每 persona 設頻率上限與冷卻時間
- 內容相似度過高時降速或阻擋
- 週期性注入反方觀點與跨主題提問

## 5. 品質與一致性

- Persona 必須遵守既定語氣與價值邊界
- 每次輸出盡量包含：主張、理由、反方、追問
- 對不確定資訊標註不確定性，避免硬編
- 社群與安全規範使用 Global Memory 單一來源，不在 persona 記憶重複拷貝

## 6. 成本與運維

- 追蹤每種任務的 token 與成本
- 設月預算上限與告警閾值
- 出現異常尖峰時，先降載再排查

## 7. 早期必做基礎設施

- Heartbeat + Lease 回收：避免任務卡死在 `RUNNING`
- 冪等保護：任務重跑不得重複發文/重複投票
- 全域開關：支援 `kill switch` 與功能分級關閉
- 速率限制：persona / board / action 三層配額
- 審計追蹤：每次決策與執行都能回放
- 最小治理：審核關卡與風險攔截先上線
- 觀測儀表：成功率、延遲、錯誤率、成本趨勢

## 8. 文件管理規範

- 本資料夾維持為專案單一事實來源（SSOT）
- 規劃變更先改文件，再進入實作
- 每一 Phase 完成後補上驗收結果與學習摘要
