# Forum Webapp - UX 測試清單與 Bug 記錄

> 測試日期: 2026-02-09
> 測試者: Neven  
> 網站 URL: http://localhost:3000

---

## 測試前準備

- [x] 清除瀏覽器快取和 Cookies
- [x] 準備測試郵箱 (用於註冊)
- [ ] 準備測試用圖片 (不同尺寸: <1MB, 1-5MB, >5MB)
- [x] 開啟開發者工具 (F12) 準備查看 Console 錯誤

---

## 第一階段：基礎功能測試

### 1. 註冊流程

| 測試項目     | 操作步驟           | 預期結果           | 實際結果 | 狀態 | Bug ID |
| ------------ | ------------------ | ------------------ | -------- | ---- | ------ |
| 註冊頁面載入 | 訪問 `/register`   | 頁面正常顯示表單   |          | ⬜   |        |
| 郵箱驗證     | 輸入無效郵箱格式   | 顯示錯誤提示       |          | ⬜   |        |
| 密碼強度     | 輸入弱密碼 (<8位)  | 顯示強度不足提示   |          | ⬜   |        |
| 密碼確認     | 輸入不一致的密碼   | 顯示不匹配提示     |          | ⬜   |        |
| 成功註冊     | 輸入有效資料提交   | 跳轉到首頁或驗證頁 |          | ⬜   |        |
| 重複註冊     | 用相同郵箱再次註冊 | 顯示用戶已存在     |          | ⬜   |        |
| 郵件驗證     | 檢查收件箱         | 收到驗證郵件       |          | ⬜   |        |

### 2. 登入流程

| 測試項目     | 操作步驟         | 預期結果                 | 實際結果 | 狀態 | Bug ID |
| ------------ | ---------------- | ------------------------ | -------- | ---- | ------ |
| 登入頁面載入 | 訪問 `/login`    | 頁面正常顯示             |          | ⬜   |        |
| 錯誤密碼     | 輸入錯誤密碼     | 顯示登入失敗             |          | ⬜   |        |
| 錯誤郵箱     | 輸入不存在的郵箱 | 顯示用戶不存在           |          | ⬜   |        |
| 成功登入     | 輸入正確資料     | 跳轉到首頁，顯示用戶頭像 |          | ⬜   |        |
| 記住我       | 勾選記住我後登入 | 關閉瀏覽器後仍保持登入   |          | ⬜   |        |
| 登出         | 點擊登出按鈕     | 清除登入狀態，跳轉首頁   |          | ⬜   |        |

---

## 第二階段：用戶資料管理

### 3. 個人資料設置

| 測試項目     | 操作步驟                 | 預期結果           | 實際結果 | 狀態 | Bug ID |
| ------------ | ------------------------ | ------------------ | -------- | ---- | ------ |
| 資料頁面載入 | 訪問 `/settings/profile` | 顯示當前資料       |          | ⬜   |        |
| 修改顯示名稱 | 更改 display_name        | 成功儲存並更新     |          | ⬜   |        |
| 修改 Bio     | 添加個人簡介             | 成功儲存，支援換行 |          | ⬜   |        |
| 名稱長度限制 | 輸入超長名稱 (>50字)     | 顯示長度限制提示   |          | ⬜   |        |
| 查看公開資料 | 訪問 `/profile`          | 顯示正確的公開資料 |          | ⬜   | [BUG-010](./bugs/BUG-010.md), [BUG-005](./bugs/BUG-005.md) |

### 4. 頭像上傳

| 測試項目     | 操作步驟                | 預期結果              | 實際結果 | 狀態 | Bug ID |
| ------------ | ----------------------- | --------------------- | -------- | ---- | ------ |
| 頭像頁面載入 | 訪問 `/settings/avatar` | 顯示頭像上傳區域      |          | ⬜   |        |
| 上傳小圖片   | 選擇 <1MB 圖片          | 成功上傳並預覽        |          | ⬜   |        |
| 上傳大圖片   | 選擇 >5MB 圖片          | 顯示大小限制錯誤      |          | ⬜   |        |
| 上傳非圖片   | 選擇 PDF/TXT 檔案       | 顯示格式錯誤          |          | ⬜   |        |
| 取消上傳     | 選擇後點擊取消          | 恢復原頭像            |          | ⬜   |        |
| 頭像顯示     | 查看導航欄              | 顯示新頭像 (圓形裁剪) |          | ⬜   |        |

---

## 第三階段：內容瀏覽

### 5. 首頁與信息流

| 測試項目 | 操作步驟                       | 預期結果                   | 實際結果 | 狀態 | Bug ID |
| -------- | ------------------------------ | -------------------------- | -------- | ---- | ------ |
| 首頁載入 | 訪問 `/`                       | 顯示帖子列表               |          | ⬜   |        |
| 排序切換 | 點擊 Hot/New/Top/Rising        | 列表按正確排序更新         |          | ⬜   |        |
| 時間範圍 | 選擇 Today/Week/Month/Year/All | 正確篩選時間               |          | ⬜   |        |
| 無限滾動 | 滾動到底部                     | 自動載入更多帖子           |          | ⬜   |        |
| 帖子預覽 | 查看帖子卡片                   | 顯示標題、作者、分數、時間 |          | ⬜   |        |
| 圖片預覽 | 查看圖片帖子                   | 顯示縮略圖                 |          | ⬜   |        |
| 投票顯示 | 查看投票帖子                   | 顯示選項和結果             |          | ⬜   |        |

### 6. 帖子詳情頁

| 測試項目   | 操作步驟     | 預期結果         | 實際結果 | 狀態 | Bug ID |
| ---------- | ------------ | ---------------- | -------- | ---- | ------ |
| 詳情頁載入 | 點擊帖子標題 | 正確顯示完整內容 |          | ⬜   |        |
| 返回列表   | 點擊返回按鈕 | 回到上一頁       |          | ⬜   |        |
| 分享連結   | 複製帖子 URL | 可正常訪問       |          | ⬜   |        |
| 作者資訊   | 點擊作者名稱 | 跳轉到作者資料   |          | ⬜   | [BUG-011](./bugs/BUG-011.md), [BUG-012](./bugs/BUG-012.md) |
| 標籤點擊   | 點擊帖子標籤 | 跳轉到標籤頁面   |          | ⬜   |        |

### 7. 搜索功能

| 測試項目 | 操作步驟         | 預期結果            | 實際結果 | 狀態 | Bug ID |
| -------- | ---------------- | ------------------- | -------- | ---- | ------ |
| 搜索頁面 | 訪問 `/search`   | 顯示搜索框和結果    |          | ⬜   |        |
| 搜索標題 | 輸入關鍵字       | 顯示匹配的帖子      |          | ⬜   |        |
| 搜索作者 | 輸入用戶名       | 顯示該用戶帖子      |          | ⬜   |        |
| 無結果   | 輸入不存在關鍵字 | 顯示無結果提示      |          | ⬜   |        |
| 搜索建議 | 輸入時           | 顯示自動建議 (如有) |          | ⬜   |        |

### 8. 標籤與板塊

| 測試項目 | 操作步驟              | 預期結果            | 實際結果 | 狀態 | Bug ID |
| -------- | --------------------- | ------------------- | -------- | ---- | ------ |
| 標籤頁面 | 訪問 `/tags/[slug]`   | 顯示該標籤的帖子    |          | ⬜   |        |
| 板塊頁面 | 訪問 `/boards/[slug]` | 顯示板塊詳情和帖子  |          | ⬜   | [BUG-013](./bugs/BUG-013.md) |
| 板塊列表 | 訪問 `/boards`        | 顯示所有板塊 (如有) |          | ⬜   |        |

---

## 第四階段：內容創建與互動

### 9. 創建帖子

| 測試項目 | 操作步驟                  | 預期結果             | 實際結果 | 狀態 | Bug ID |
| -------- | ------------------------- | -------------------- | -------- | ---- | ------ |
| 創建頁面 | 訪問 `/submit`            | 顯示帖子類型選擇     |          | ⬜   |        |
| 選擇板塊 | 選擇目標板塊              | 顯示板塊下拉選單     |          | ⬜   |        |
| 選擇類型 | 點擊 Text/Image/Link/Poll | 切換對應表單         |          | ⬜   |        |
| 文字帖子 | 填寫標題和內容            | 成功創建，富文本正常 |          | ⬜   |        |
| 圖片帖子 | 上傳圖片                  | 成功創建，顯示圖片   |          | ⬜   |        |
| 連結帖子 | 輸入 URL                  | 成功創建，顯示預覽   |          | ⬜   |        |
| 投票帖子 | 添加 2-6 個選項           | 成功創建，可投票     |          | ⬜   |        |
| 標題必填 | 不填標題提交              | 顯示必填錯誤         |          | ⬜   |        |
| 添加標籤 | 選擇標籤                  | 標籤顯示在帖子中     |          | ⬜   |        |
| 取消創建 | 填寫後取消                | 確認對話框，不儲存   |          | ⬜   |        |

### 10. 投票功能

| 測試項目 | 操作步驟        | 預期結果           | 實際結果 | 狀態 | Bug ID |
| -------- | --------------- | ------------------ | -------- | ---- | ------ |
| 帖子投票 | 點擊 Upvote     | 分數增加，按鈕高亮 |          | ⬜   |        |
| 取消投票 | 再次點擊 Upvote | 恢復原狀態         |          | ⬜   |        |
| Downvote | 點擊 Downvote   | 分數減少           |          | ⬜   |        |
| 切換投票 | 先 Up 再 Down   | 正確切換狀態       |          | ⬜   |        |
| 評論投票 | 對評論投票      | 同帖子投票邏輯     |          | ⬜   |        |

### 11. 評論系統

| 測試項目 | 操作步驟          | 預期結果             | 實際結果 | 狀態 | Bug ID |
| -------- | ----------------- | -------------------- | -------- | ---- | ------ |
| 評論輸入 | 在帖子頁輸入評論  | 富文本編輯器可用     |          | ⬜   |        |
| 發表評論 | 提交評論          | 評論立即顯示         |          | ⬜   |        |
| 評論排序 | 切換 Best/New/Top | 按正確順序顯示       |          | ⬜   |        |
| 回覆評論 | 點擊 Reply        | 顯示回覆輸入框       |          | ⬜   |        |
| 嵌套回覆 | 回覆的回覆        | 正確縮進顯示         |          | ⬜   |        |
| 編輯評論 | 編輯自己的評論    | 內容更新             |          | ⬜   |        |
| 刪除評論 | 刪除自己的評論    | 顯示「已刪除」或移除 |          | ⬜   |        |
| 評論投票 | 對評論投票        | 分數變化             |          | ⬜   |        |

### 12. 保存與隱藏

| 測試項目 | 操作步驟      | 預期結果         | 實際結果 | 狀態 | Bug ID |
| -------- | ------------- | ---------------- | -------- | ---- | ------ |
| 保存帖子 | 點擊 Save     | 帖子加入已保存   |          | ⬜   |        |
| 查看保存 | 訪問保存列表  | 顯示所有保存帖子 |          | ⬜   |        |
| 取消保存 | 再次點擊 Save | 從列表移除       |          | ⬜   |        |
| 隱藏帖子 | 點擊 Hide     | 帖子從列表消失   |          | ⬜   |        |
| 查看隱藏 | 訪問隱藏列表  | 顯示隱藏帖子     |          | ⬜   |        |
| 取消隱藏 | 取消隱藏      | 帖子重新出現     |          | ⬜   |        |

---

## 第五階段：板塊與社區功能

### 13. 板塊管理

| 測試項目    | 操作步驟                       | 預期結果        | 實際結果 | 狀態 | Bug ID |
| ----------- | ------------------------------ | --------------- | -------- | ---- | ------ |
| 創建板塊    | 訪問 `/boards/create`          | 顯示創建表單    |          | ⬜   |        |
| 填寫資料    | 輸入名稱、描述、規則           | 表單驗證正常    |          | ⬜   |        |
| 板塊 slug   | 輸入重複 slug                  | 顯示已存在錯誤  |          | ⬜   |        |
| 成功創建    | 提交表單                       | 跳轉到新板塊    |          | ⬜   |        |
| 板塊設置    | 訪問 `/boards/[slug]/settings` | 顯示管理選項    |          | ⬜   |        |
| 編輯資料    | 修改描述和規則                 | 成功更新        |          | ⬜   |        |
| 上傳 Banner | 設置板塊封面                   | 正確顯示 (如有) |          | ⬜   |        |

### 14. 加入與管理

| 測試項目 | 操作步驟        | 預期結果         | 實際結果 | 狀態 | Bug ID |
| -------- | --------------- | ---------------- | -------- | ---- | ------ |
| 加入板塊 | 點擊 Join       | 成為成員         |          | ⬜   |        |
| 退出板塊 | 點擊 Leave      | 不再是成員       |          | ⬜   |        |
| 成員列表 | 訪問 Members 頁 | 顯示所有成員     |          | ⬜   |        |
| 設置版主 | Owner 添加版主  | 用戶獲得版主權限 |          | ⬜   |        |
| 移除版主 | Owner 移除版主  | 權限收回         |          | ⬜   |        |
| 封禁用戶 | 版主封禁用戶    | 用戶無法發帖     |          | ⬜   |        |
| 解除封禁 | 解除封禁        | 用戶恢復權限     |          | ⬜   |        |

### 15. 通知系統

| 測試項目 | 操作步驟              | 預期結果         | 實際結果 | 狀態 | Bug ID |
| -------- | --------------------- | ---------------- | -------- | ---- | ------ |
| 通知圖標 | 查看導航欄            | 顯示未讀數量紅點 |          | ⬜   |        |
| 通知列表 | 訪問 `/notifications` | 顯示所有通知     |          | ⬜   |        |
| 評論通知 | 收到回覆時            | 生成新通知       |          | ⬜   |        |
| 標記已讀 | 點擊 Mark as read     | 紅點消失         |          | ⬜   |        |
| 全部已讀 | 點擊 Mark all read    | 所有通知已讀     |          | ⬜   |        |
| 通知歸檔 | 歸檔舊通知            | 從列表移除       |          | ⬜   |        |

---

## 第六階段：響應式與跨設備

### 16. 桌面端測試

| 測試項目 | 操作步驟       | 預期結果                 | 實際結果 | 狀態 | Bug ID |
| -------- | -------------- | ------------------------ | -------- | ---- | ------ |
| 解析度   | 1920x1080      | 佈局正常                 |          | ⬜   |        |
| 導航欄   | 查看頂部導航   | Logo、搜索、用戶菜單完整 |          | ⬜   |        |
| 側邊欄   | 查看左右側邊欄 | 板塊列表、規則顯示正常   |          | ⬜   |        |
| 富文本   | 使用編輯器     | 工具列完整顯示           |          | ⬜   |        |

### 17. 平板測試 (iPad)

| 測試項目 | 操作步驟 | 預期結果         | 實際結果 | 狀態 | Bug ID |
| -------- | -------- | ---------------- | -------- | ---- | ------ |
| 橫屏     | 1024x768 | 佈局自適應       |          | ⬜   |        |
| 直屏     | 768x1024 | 側邊欄收起或下移 |          | ⬜   |        |
| 觸控     | 點擊操作 | 按鈕大小適合觸控 |          | ⬜   |        |

### 18. 手機端測試

| 測試項目 | 操作步驟       | 預期結果       | 實際結果 | 狀態 | Bug ID |
| -------- | -------------- | -------------- | -------- | ---- | ------ |
| 首頁載入 | iPhone/Android | 底部導航顯示   |          | ⬜   |        |
| 底部導航 | 點擊各圖標     | 正確跳轉頁面   |          | ⬜   |        |
| Drawer   | 點擊菜單按鈕   | 側邊欄滑出     |          | ⬜   |        |
| 發帖     | 點擊 + 按鈕    | 彈出類型選擇   |          | ⬜   |        |
| 輸入框   | 點擊輸入       | 鍵盤不遮擋內容 |          | ⬜   |        |
| 圖片上傳 | 選擇相機/相冊  | 可選擇並上傳   |          | ⬜   |        |
| 下拉刷新 | 下拉列表       | 重新載入內容   |          | ⬜   |        |
| 載入更多 | 上滑到底       | 載入更多帖子   |          | ⬜   |        |

---

## Bug 記錄表

| ID  | 發現日期 | 測試項目 | 嚴重程度 | 標題 | 重現步驟 | 期望結果 | 實際結果 | 截圖/錄影 | 備註 |
| --- | -------- | -------- | -------- | ---- | -------- | -------- | -------- | --------- | ---- |
| BUG-001 | 2026-02-08 | 註冊頁面 | P3 | Create account, Theme 沒有統一 | 訪問 `/register` | 使用 dark theme，符合 Reddit 2024+ style | 白色背景色 | 待補 | ✅ 已修復 |
| BUG-002 | 2026-02-08 | 登入頁面 | P3 | Log In Theme 沒有一致 | 訪問 `/login` | 深色主題按鈕，無未實作功能 | 按鈕顏色錯誤，有 Phone/Google 按鈕 | 待補 | 需移除未實作的登入方式 |
| BUG-003 | 2026-02-08 | 註冊流程 | P0 | Supabase Auth 與 profiles 不同步 | 完成註冊流程 | Auth 和 profiles 都有用戶資料 | Auth 有用戶，profiles 無資料 | 待補 | ✅ Migration 009 已創建 |
| BUG-004 | 2026-02-08 | 頭像設置 | P0 | Avatar setting 沒有上傳圖像的按鈕 | 訪問 `/settings/avatar` | 顯示頭像上傳按鈕，不支援 URL | 沒有上傳功能 | 待補 | ✅ 已修復 (2026-02-09) - 重寫 avatar-form，使用檔案上傳 + Toast 通知 |
| BUG-005 | 2026-02-08 | 個人資料 | P3 | /profile UI 調整 - 缺少 Display Name | 訪問 `/profile` | Avatar 旁顯示 display name | 只有 avatar 和背景 | 待補 | ✅ 已修復 (2026-02-09) - 在 banner 區域顯示 display name 和 username |
| BUG-006 | 2026-02-08 | 資料設置 | P3 | Profile settings UI 調整 - Save 提示改用 Toast | 在 `/settings/profile` 點擊 Save | 使用 react-hot-toast 提示 | 出現 save text 導致 UI 抖動 | 待補 | 改用 Toast 通知 |
| BUG-007 | 2026-02-08 | 首頁排序 | P1 | Hot/New/Top/Rising 邏輯不明 | 訪問 `/`，切換排序 | 邏輯分離，清楚標註各算法 | 全寫在 page，無法看出差異 | 待補 | ✅ 已修復 (2026-02-08) - Hot算法權重 Score(×2)>Comments(×0.5)>Time(衰減)，詳見「排序算法說明」章節；UI順序 New/Hot/Rising/Top；Rising改為3天內 |
| BUG-008 | 2026-02-08 | 首頁排序 | P3 | Top 時間選擇器無法使用 | 選擇 Top，點擊時間選擇器 | 展開選項並更新列表 | 只能點擊，無選項出現 | 待補 | ✅ 已修復 (2026-02-08) - 重寫 FeedSortBar，改用 DaisyUI select 組件替代 dropdown，解決顯示問題 |
| BUG-009 | 2026-02-08 | 評論功能 | P0 | Comment 後頁面當機 | 發布評論後 | 正常更新，無錯誤 | DOMPurify sanitize 錯誤 | 待補 | ✅ 已修復 (2026-02-09) - 改用 isomorphic-dompurify |
| BUG-010 | 2026-02-08 | 個人資料 | P0 | `/profile` runtime error | 訪問 `/profile` | 正常顯示 UI | Event handlers cannot be passed to Client Component props | 待補 | ✅ 已修復 (2026-02-09) - 創建 ProfilePostList 元件 |
| BUG-011 | 2026-02-08 | 帖子詳情頁 | P3 | 帖子詳情頁缺少作者資訊 | 訪問 `/posts/[id]` | 顯示 avatar、name，可點擊查看 `/u/display_name` | 沒有顯示作者資訊 | 待補 | |
| BUG-012 | 2026-02-08 | 用戶頁面 | P0 | 沒有作者/Persona 頁面 | 訪問 `/u/any_display_name` | 查看 user/ persona info，layout 類似 `/profile` | 頁面不存在 (404) | 待補 | ✅ 已修復 (2026-02-09) - 創建 /u/[display_name] 頁面，支援 user 和 persona |
| BUG-013 | 2026-02-08 | 板塊頁面 | P2 | Board 路徑應為 `/r` 開頭 | 訪問 `/boards/concept-art-gallery` | URL 為 `/r/concept-art-gallery` | URL 為 `/boards/concept-art-gallery` | 待補 | ✅ 已修復 (2026-02-08) - 創建 /r/[slug] 路由，更新所有元件連結 (PostMeta, BoardInfoCard, BoardLayout, DrawerSidebar 等)，保留 /boards 做向後相容 |
| BUG-014 | 2026-02-08 | API 性能 | P2 | /api/posts 載入過慢 | 訪問首頁，觀察載入時間 | API 回應 < 500ms | 載入時間過長 | 待補 | ✅ 已優化 (2026-02-08) - 1) 移除 body 欄位減少 payload 2) 平行查詢 boards/tags 3) 條件查詢 hidden_posts 4) 限制返回 20 條 5) 添加快取 60s 6) 時間篩選減少資料量；✅ 已修復 - Rising 時間範圍從1天改為3天 |
| BUG-015 | 2026-02-08 | 首頁排序 | P1 | 重新整理後 sort 參數與 API 呼叫不一致 | 訪問 `/?sort=hot`，重新整理頁面 | API 應呼叫 sort=hot | API 卻呼叫預設 sort=new | 待補 | ✅ 已修復 (2026-02-08) - page.tsx 使用 useSearchParams 讀取 URL sort 參數，並設為初始 state |

### 排序算法說明

| 排序 | 權重邏輯 | 公式/說明 |
|------|---------|-----------|
| **New** | Time only | 純粹按發布時間排序，最新在前 |
| **Hot** | Score > Comments > Time | `hot_score = (score × 2) + (comments × 0.5) − (age_hours × 0.1)` |
| **Rising** | Score / Time | 最近 3 天內，按「分數÷時間」的速度排序 |
| **Top** | Score only | 純粹按總分排序，可選時間範圍篩選 |

**Hot 算法權重說明：**
- **Score 權重最高** (×2)：投票分數是最重要的因素
- **Comments 次要** (×0.5)：互動數有加成但較低
- **Time 是衰減因子** (−0.1/小時)：舊帖子會慢慢下降，但最多只扣 50 分
- **同分時**：按時間新的優先

### 嚴重程度定義

- **P0 - 致命**: 系統崩潰、數據丟失、安全漏洞
- **P1 - 嚴重**: 主要功能無法使用、阻塞流程
- **P2 - 一般**: 功能可用但有缺陷、體驗不佳
- **P3 - 輕微**: UI 問題、建議優化

---

## 快速 Bug 回報模板

當你發現 Bug 時，請提供以下信息：

```
**Bug ID**: BUG-XXX
**嚴重程度**: P0/P1/P2/P3
**測試項目**: (從上方列表)
**標題**: (簡短描述)

**重現步驟**:
1.
2.
3.

**期望結果**:

**實際結果**:

**環境**:
- 瀏覽器:
- 設備:
- 螢幕解析度:

**截圖/錄影**: (連結或附件)
**Console 錯誤**: (如有)
```

---

## 測試完成總結

### 統計

- 總測試項目: \_\_\_\_ 個
- 通過: \_\_\_\_ 個
- 失敗: \_\_\_\_ 個
- 未測試: \_\_\_\_ 個
- Bug 數量: 13 個 (P0: 5, P1: 1, P2: 1, P3: 6)
- 已修復: 9 個 (P0: 5, P1: 1, P2: 1, P3: 2)
- 待修復: 4 個 (P3: 4)

### 主要問題摘要

1. ✅ 所有 P0 (致命) Bug 已修復
2. ✅ Username 功能已完整實作（Instagram 風格）
3. ✅ Database schema 已整合為單一 schema.sql

### 優先修復建議

1.
2.
3.

---

_文件生成時間: 2026-02-08_
_測試清單版本: v1.0_
